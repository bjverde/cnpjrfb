function Adianti(){}function Template(){}function __adianti_set_name(e){Adianti.applicationName=e}function __adianti_set_language(e){Adianti.language=e}function __adianti_set_debug(e){Adianti.debug=e}function __adianti_run_after_loads(e,t){if(typeof Adianti.onAfterLoad=="function"){Adianti.onAfterLoad(e,t)}if(typeof Template.onAfterLoad=="function"){Template.onAfterLoad(e,t)}}function __adianti_run_after_posts(e,t){if(typeof Adianti.onAfterPost=="function"){Adianti.onAfterPost(e,t)}if(typeof Template.onAfterPost=="function"){Template.onAfterPost(e,t)}}function __adianti_run_before_loads(e){if(typeof Adianti.onBeforeLoad=="function"){Adianti.onBeforeLoad(e)}if(typeof Template.onBeforeLoad=="function"){Template.onBeforeLoad(e)}}function __adianti_run_before_posts(e){if(typeof Adianti.onBeforePost=="function"){Adianti.onBeforePost(e)}if(typeof Template.onBeforePost=="function"){Template.onBeforePost(e)}}function __adianti_failure_message(){if(Adianti.debug==1){if(Adianti.language=="pt"){return"Requisição falhou. Verifique a conexão com internet e os logs do servidor de aplicação"}return"Request failed. Check the internet connection and the application server logs"}else{if(Adianti.language=="pt"){return"Requisição falhou"}return"Request failed"}}function __adianti_failure_request(e,t,i){if(!e.responseText){__adianti_error("Error",t+": "+__adianti_failure_message())}else{$("#adianti_online_content").append(e.responseText)}}function __adianti_goto_page(e){window.location=e}function __adianti_base_url(){return window.location.protocol+"//"+window.location.host+window.location.pathname.split("/").slice(0,-1).join("/")}function __adianti_debounce(n,o,r){var d;return function(){var e=this,t=arguments;var i=function(){d=null;if(!r)n.apply(e,t)};var a=r&&!d;clearTimeout(d);d=setTimeout(i,o);if(a)n.apply(e,t)}}function __adianti_query_string(e){var t={};var i=e||window.location.search.substring(1);var a=i.split("&");for(var n=0;n<a.length;n++){var o=a[n].split("=");if(typeof t[o[0]]==="undefined"){t[o[0]]=o[1]}else if(typeof t[o[0]]==="string"){var r=[t[o[0]],o[1]];t[o[0]]=r}else{t[o[0]].push(o[1])}}return t}function __adianti_query_to_json(e){var t=e.split("&");var i=Object();var a=function(e){if(typeof e!=="undefined"){return urldecode(e.replace(/\+/g," "))}return e};for(var n=0;n<t.length;n++){var o=t[n].split("=");if(o[0].search("\\[\\]")!==-1){o[0]=o[0].replace(/\[\]$/,"");if(typeof i[o[0]]==="undefined"){i[o[0]]=[a(o[1])]}else{i[o[0]].push(a(o[1]))}}else{i[o[0]]=a(o[1])}}return i}function __adianti_load_html(e,t,i){var a=i.match("target_container=([0-z-]*)");var n=e.match('adianti_target_container\\s?=\\s?"([0-z-]*)"');if(e.indexOf('widget="TWindow"')>0){__adianti_load_window_content(e)}else if(n!==null){var o=n[1];__adianti_load_side_content(o,e)}else if(a!==null){var o=a[1];__adianti_load_side_content(o,e)}else{if(typeof Adianti.onClearDOM=="function"){Adianti.onClearDOM()}$('[widget="TWindow"]').remove();$("#adianti_div_content").html(e)}if(typeof t=="function"){t(i,e)}}function __adianti_load_window_content(e){var t=e.match('window_name\\s?=\\s?"([0-z-]*)"');var i=t[1];var a=$("[window_name]").filter(function(){return $(this).html().length>1}).length;if(a==0||a==1&&$("[window_name="+i+"]").length==1){$("#adianti_online_content").empty()}if($("[window_name="+i+"]").length>0){$("[window_name="+i+"]").empty();$("[window_name="+i+"]").replaceWith(e)}else{$("#adianti_online_content").append(e)}}function __adianti_load_side_content(e,t){if(e=="adianti_right_panel"){var i=t.match('page_name\\s?=\\s?"([0-z-]*)"');if(i){var a=i[1]}if($("#adianti_right_panel").is(":visible")==false){$("#adianti_right_panel").html("")}if($("[page_name="+a+"]").length>0){$("[page_name="+a+"]").empty();$("[page_name="+a+"]").replaceWith(t)}else{$("#adianti_right_panel").append(t)}}else{$("#"+e).empty();$("#"+e).html(t)}}function __adianti_load_page_no_register(t){$.get(t).done(function(e){__adianti_load_html(e,null,t)}).fail(function(e,t,i){__adianti_failure_request(e,t,i)})}function __adianti_append_page(e,t){e=e.replace("engine.php?","");params_json=__adianti_query_to_json(e);uri="engine.php?"+"class="+params_json.class+"&method="+params_json.method+"&static="+(params_json.static=="1"?"1":"0");$.post(uri,params_json).done(function(e){if(e.indexOf('widget="TWindow"')>0){__adianti_load_window_content(e)}else{$("#adianti_online_content").after("<div></div>").html(e)}if(typeof t=="function"){t()}}).fail(function(e,t,i){__adianti_failure_request(e,t,i)})}function __adianti_load_page(e,t){if(typeof e!=="undefined"){$(".modal-backdrop").remove();var i=e;i=i.replace("index.php","engine.php");if(i.indexOf("engine.php")==-1){i="xhr-"+i}__adianti_run_before_loads(i);if(i.indexOf("&static=1")>0||i.indexOf("?static=1")>0){$.get(i).done(function(e){__adianti_parse_html(e);Adianti.requestURL=i;Adianti.requestData=null;if(typeof t=="function"){t()}__adianti_run_after_loads(i,e)}).fail(function(e,t,i){__adianti_error("Error",t+": "+__adianti_failure_message());loading=false})}else{$.get(i).done(function(e){Adianti.requestURL=i;Adianti.requestData=null;__adianti_load_html(e,__adianti_run_after_loads,i);if(typeof t=="function"){t()}if(i.indexOf("register_state=false")<0&&history.pushState&&e.indexOf('widget="TWindow"')<0){__adianti_register_state(i,"adianti");Adianti.currentURL=i}}).fail(function(e,t,i){__adianti_failure_request(e,t,i);loading=false})}}}function __adianti_block_ui(e){if(typeof $.blockUI=="function"){if(typeof Adianti.blockUIConter=="undefined"){Adianti.blockUIConter=0}Adianti.blockUIConter=Adianti.blockUIConter+1;if(typeof e=="undefined"){e=Adianti.waitMessage}$.blockUI({message:'<h1 style="font-size:25pt"><i class="fa fa-spinner fa-pulse"></i> '+e+"</h1>",fadeIn:0,fadeOut:0,css:{border:"none",top:"100px",left:0,maxWidth:"300px",width:"inherit",padding:"15px",backgroundColor:"none","border-radius":"5px 5px 5px 5px",opacity:1,color:"#fff"}});$(".blockUI.blockMsg").mycenter()}}function __adianti_window(e,t,i,a){return $("<div />").html(a).dialog({modal:true,title:e,width:t,height:i,resizable:true,closeOnEscape:true,close:function(e,t){$(this).remove()},focus:true})}function __adianti_window_page(e,t,i,a){if(t<2){t=$(window).width()*t}if(i<2){i=$(window).height()*i}$("<div />").append($("<iframe style='width:100%;height:97%' />").attr("src",a)).dialog({modal:true,title:e,width:t,height:i,resizable:false,closeOnEscape:true,close:function(e,t){$(this).remove()},focus:true})}function __adianti_dialog(e){if(e.type=="info"){var t=e.icon?e.icon:"fa fa-info-circle fa-4x blue"}else if(e.type=="warning"){var t=e.icon?e.icon:"fa fa-exclamation-triangle fa-4x orange"}else if(e.type=="error"){var t=e.icon?e.icon:"fa fa-exclamation-circle fa-4x red"}if(typeof bootbox=="object"){bootbox.dialog({title:e.title,animate:false,backdrop:true,onEscape:function(){if(typeof e.callback!="undefined"){e.callback()}},message:"<div>"+'<span class="'+t+'" style="float:left"></span>'+'<span style="margin-left:70px;display:block;max-height:500px">'+e.message+"</span>"+"</div>",buttons:{success:{label:"OK",className:"btn-default",callback:function(){if(typeof e.callback!="undefined"){e.callback()}}}}})}else{alert(e.message);if(typeof e.callback!="undefined"){e.callback()}}}function __adianti_error(e,t,i){__adianti_dialog({type:"error",title:e,message:t,callback:i})}function __adianti_message(e,t,i){__adianti_dialog({type:"info",title:e,message:t,callback:i})}function __adianti_warning(e,t,i){__adianti_dialog({type:"warning",title:e,message:t,callback:i})}function __adianti_question(e,t,i,a,n,o){if(typeof bootbox=="object"){bootbox.dialog({title:e,animate:false,message:"<div>"+'<span class="fa fa-question-circle fa-4x blue" style="float:left"></span>'+'<span style="margin-left:70px;display:block;max-height:500px">'+t+"</span>"+"</div>",buttons:{yes:{label:n,className:"btn-default",callback:function(){if(typeof i!="undefined"){i()}}},no:{label:o,className:"btn-default",callback:function(){if(typeof a!="undefined"){a()}}}}})}else{var r=confirm(t);if(r==true){if(typeof i!="undefined"){i()}}else{if(typeof a!="undefined"){a()}}}}function __adianti_input(e,t){if(typeof bootbox=="object"){bootbox.prompt(e,function(e){if(e!==null){t(e)}})}else{var i=prompt(e,"");t(i)}}function __adianti_show_toast64(e,t,i,a){__adianti_show_toast(e,atob(t),i,a)}function __adianti_show_toast(e,t,i,a){var i=i.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(e,t){if(+e===0)return"";return t==0?e.toLowerCase():e.toUpperCase()});var n={message:t,position:i};if(e=="show"){n["progressBarColor"]="rgb(0, 255, 184)";n["theme"]="dark"}if(typeof a!=="undefined"){var o=a.substring(0,3);if(["far","fas","fal","fad","fab"].includes(o)){n["icon"]=o+" fa-"+a.substring(4)}else{n["icon"]="fa "+a.replace(":","-")}}iziToast[e](n)}function __adianti_unblock_ui(e){if(typeof $.blockUI=="function"){if(typeof e=="undefined"){Adianti.blockUIConter=Adianti.blockUIConter-1;if(Adianti.blockUIConter<=0){$.unblockUI({fadeIn:0,fadeOut:0});Adianti.blockUIConter=0}}else if(e==true){$.unblockUI({fadeIn:0,fadeOut:0});Adianti.blockUIConter=0}}}function __adianti_post_data(e,t){if(t.substring(0,4)=="xhr-"){i=t}else{if(t.substring(0,5)=="class"){i="index.php?"+t;i=i.replace("index.php","engine.php")}else{var i="xhr-"+t}}if(document.querySelector("#"+e)instanceof Node&&t.indexOf("novalidate")===-1){if(!document.querySelector("#"+e).hasAttribute("novalidate")&&document.querySelector("#"+e).checkValidity()==false){document.querySelector("#"+e).reportValidity();return}}__adianti_block_ui();data=$("#"+e).serialize();__adianti_run_before_posts(i);if(i.indexOf("&static=1")>0||i.indexOf("?static=1")>0||t.substring(0,4)=="xhr-"){$.post(i,data).done(function(e){__adianti_parse_html(e);__adianti_unblock_ui();Adianti.requestURL=i;Adianti.requestData=data;__adianti_run_after_posts(i,e)}).fail(function(e,t,i){__adianti_unblock_ui();__adianti_failure_request(e,t,i);loading=false})}else{$.post(i,data).done(function(e){Adianti.currentURL=i;Adianti.requestURL=i;Adianti.requestData=data;__adianti_load_html(e,__adianti_run_after_posts,i);__adianti_unblock_ui()}).fail(function(e,t,i){__adianti_unblock_ui();__adianti_failure_request(e,t,i);loading=false})}}function __adianti_register_state(e,t){if(Adianti.registerState!==false||t=="user"){var i={url:e};if(typeof history.pushState!="undefined"){history.pushState(i,"",e.replace("engine.php","index.php").replace("xhr-",""))}}}function __adianti_ajax_lookup(e,t){var i=t.value;__adianti_ajax_exec(e+"&key="+i+"&ajax_lookup=1",null)}function __adianti_ajax_exec(e,t,i){if(e.substring(0,5)=="class"){var a="engine.php?"+e+"&static=1"}else{var a="xhr-"+e+"&static=1"}var i=typeof i==="undefined"?true:i;$.ajax({url:a}).done(function(e){if(i){__adianti_parse_html(e,t)}else{t(e)}}).fail(function(e,t,i){__adianti_failure_request(e,t,i)})}function __adianti_post_exec(e,t,i,a,n){var o="engine.php?"+e;var n=typeof n==="undefined"?false:n;if(typeof a!=="undefined"){var o="engine.php?"+e+"&static="+a}$.ajax({type:"POST",url:o,data:t}).done(function(e){if(n){__adianti_parse_html(e,i);__adianti_run_after_loads(o,e)}else if(i&&typeof i==="function"){return i(e)}}).fail(function(e,t,i){__adianti_failure_request(e,t,i)})}function __adianti_get_page(e,t,i){var a="engine.php?"+e+"&static=1";if(typeof i!=="undefined"){if(typeof i.static!=="undefined"){var a="engine.php?"+e+"&static="+i.static}}$.ajax({url:a,data:i}).done(function(e){return t(e)}).fail(function(e,t,i){__adianti_failure_request(e,t,i)})}function __adianti_post_lookup(e,t,i,a){if(typeof i=="string"){field_obj=$("#"+i)}else if(i instanceof HTMLElement){field_obj=$(i)}var n=$("#"+e).serializeArray();n.push({name:"_field_value",value:field_obj.val()});if(t.substring(0,5)=="class"){var o="engine.php?"+t+"&static=1"}else{var o="xhr-"+t+"&static=1"}n.push({name:"_field_id",value:field_obj.attr("id")});n.push({name:"_field_name",value:field_obj.attr("name")});n.push({name:"_form_name",value:e});n.push({name:"_field_data",value:$.param(field_obj.data(),true)});n.push({name:"_field_data_json",value:JSON.stringify(__adianti_query_to_json($.param(field_obj.data(),true)))});n.push({name:"key",value:field_obj.val()});n.push({name:"ajax_lookup",value:1});$.ajax({type:"POST",url:o,data:n}).done(function(e){__adianti_parse_html(e,a)}).fail(function(e,t,i){__adianti_failure_request(e,t,i)})}function __adianti_post_page_lookup(e,t,i,a){if(typeof i=="string"){field_obj=$("#"+i)}else if(i instanceof HTMLElement){field_obj=$(i)}var n=$("#"+e).serializeArray();n.push({name:"_field_value",value:field_obj.val()});if(t.substring(0,5)=="class"){var o="engine.php?"+t}else{var o="xhr-"+t}n.push({name:"_field_id",value:field_obj.attr("id")});n.push({name:"_field_name",value:field_obj.attr("name")});n.push({name:"_form_name",value:e});n.push({name:"_field_data",value:$.param(field_obj.data(),true)});n.push({name:"_field_data_json",value:JSON.stringify(__adianti_query_to_json($.param(field_obj.data(),true)))});n.push({name:"key",value:field_obj.val()});n.push({name:"ajax_lookup",value:1});$.ajax({type:"POST",url:o,data:n}).done(function(e){__adianti_load_html(e,a,o)}).fail(function(e,t,i){__adianti_failure_request(e,t,i)})}function __adianti_parse_html(e,t){tmp=e;tmp=new String(tmp.replace(/window\.opener\./g,""));tmp=new String(tmp.replace(/window\.close\(\)\;/g,""));tmp=new String(tmp.replace(/^\s+|\s+$/g,""));try{var i=e.match('adianti_target_container\\s?=\\s?"([0-z]*)"');if(i!==null){var a=i[1];if(a=="adianti_right_panel"){$("#"+a).append(tmp)}else{$("#"+a).empty();$("#"+a).html(tmp)}}else{$("#adianti_online_content > script").remove();$("#adianti_online_content").append(tmp)}if(t&&typeof t==="function"){t(e)}}catch(e){if(e instanceof Error){$("<div />").html(e.message+": "+tmp).dialog({modal:true,title:"Error",width:"80%",height:"auto",resizable:true,closeOnEscape:true,focus:true})}}}function __adianti_download_file(e,t){extension=e.split(".").pop();screenWidth=screen.width;screenHeight=screen.height;if(extension!=="html"){screenWidth/=3;screenHeight/=3}if(typeof t=="undefined"){t=""}window.open("download.php?file="+e+"&basename="+t,"_blank","width="+screenWidth+",height="+screenHeight+",top=0,left=0,status=yes,scrollbars=yes,toolbar=yes,resizable=yes,maximized=yes,menubar=yes,location=yes")}function __adianti_open_page(e){var t=window.open(e,"_blank");if(t){t.focus()}else{alert("Please allow popups for this website")}}function __adianti_process_popover(){var e=function(e,t){$element=$(t);var i=["auto","top","right","bottom","left"];if(typeof $element.attr("popside")==="undefined"||i.indexOf($element.attr("popside"))===-1){return"auto"}else{return $(t).attr("popside")}};var t=function(e,t){if(typeof $(this).attr("popaction")==="undefined"){if(typeof $(this).attr("popcontent64")!=="undefined"){return base64_decode($(this).attr("popcontent64"))}else{return $(this).attr("popcontent")||""}}else{var i=$(this);__adianti_get_page($(this).attr("popaction"),function(e){var t=i.attr("data-content",e).data("bs.popover");t.setContent();t.show()},{static:"0"});return'<i class="fa fa-spinner fa-spin fa-5x fa-fw"></i>'}};var i=function(){return $(this).attr("poptitle")||""};var a='<div class="popover" role="tooltip" style="max-width:800px"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>';$('[popover="true"]').removeAttr("popover").attr("data-popover","true");$('[data-popover="true"]:not([poptrigger]):not([data-popover-processed="true"])').popover({placement:e,trigger:"hover",container:"body",template:a,delay:{show:10,hide:10},content:t,html:true,title:i,sanitizeFn:function(e){return e}}).attr("data-popover-processed",true);$('[data-popover="true"][poptrigger="click"]:not([data-popover-processed="true"])').popover({placement:e,trigger:"click",container:"body",template:a,delay:{show:10,hide:10},content:t,sanitizeFn:function(e){return e},html:true,title:i}).on("shown.bs.popover",function(e){if(typeof $(this).attr("popaction")!=="undefined"){var i=$(this);__adianti_get_page($(this).attr("popaction"),function(e){var t=i.attr("data-content",e).data("bs.popover");t.setContent()},{static:"0"})}}).attr("data-popover-processed",true)}function __adianti_show_popover(e,t,i,a,n){var o={trigger:"manual",title:t||"",html:true,content:i,placement:a,sanitizeFn:function(e){return e}};var r=o;if(typeof n!==undefined){var r=Object.assign(o,n)}if($(e).length>0&&$(e).css("visibility")=="visible"){$(e).popover(r).popover("show")}}$(function(){Adianti.blockUIConter=0;if(typeof $().tooltip=="function"){$(document.body).tooltip({selector:"[title]",placement:function(e,t){$element=$(t);var i=["auto","top","right","bottom","left"];if(typeof $element.attr("titside")==="undefined"||i.indexOf($element.attr("titside"))===-1){return"top"}else{return $(t).attr("titside")}},trigger:"hover",cssClass:"tooltip",container:"body",content:function(){return $(this).attr("title")},html:true})}if(typeof $().popover=="function"){$(document).on("dialogopen",function(){__adianti_process_popover()})}if(typeof jQuery.ui!=="undefined"){$.ui.dialog.prototype._focusTabbable=$.noop}});$(document).ajaxComplete(function(){if(typeof $().popover=="function"){__adianti_process_popover()}if(typeof $().DataTable=="function"){var e={responsive:true,paging:false,searching:false,ordering:false,info:false};if(typeof Adianti.language!=="undefined"){e["language"]={};e["language"]["url"]="lib/jquery/i18n/datatables/"+Adianti.language+".json"}$('table[datatable="true"]:not(.dataTable)').DataTable(e)}});$(document).ready(function(){$(document).on("click",'[generator="adianti"]',function(){__adianti_load_page($(this).attr("href"));return false});$("body").on("click",function(e){$(".tooltip.show").tooltip("hide");if(!$(e.target).parents(".popover").length>0){if(!$(e.target).parents(".dropdown-menu").length>0){$(".popover").popover("hide")}}})});window.onpopstate=function(e){if(e.state){__adianti_load_page_no_register(e.state.url)}};$.fn.mycenter=function(){this.css("position","absolute");this.css("top",($(window).height()-this.outerHeight())/2+$(window).scrollTop()+"px");this.css("left",($(window).width()-this.outerWidth())/2+$(window).scrollLeft()+"px");return this};function __adianti_copy_to_clipboard64(e){__adianti_copy_to_clipboard(base64_decode(e))}function __adianti_copy_to_clipboard(e){var t=navigator.clipboard;if(t==undefined){__adianti_show_toast64("error",base64_encode("Clipboard is unavailable"),"bottomCenter","")}else{t.writeText(e).then(function(){__adianti_show_toast64("success",base64_encode("Copied to clipboard successfully!"),"bottomCenter","")},function(){__adianti_show_toast64("error",base64_encode("Unable to write to clipboard"),"bottomCenter","")})}}
